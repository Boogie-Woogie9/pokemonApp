# pokemonApp
Общая идея проекта:

Мобильное Android-приложение для отображения списка покемонов с возможностью:
динамической подгрузки данных (пагинация),
офлайн-режима (данные сохраняются в Room),
фильтрации по типам,
сортировки по характеристикам (HP, атака, защита, номер, имя),
поиска по имени,
удобного UI с подсветкой активных фильтров и сортировок.

Приложение построено так, чтобы оставаться отзывчивым, оптимизированным под большие наборы данных и полностью работоспособным даже без интернета.

Архитектура и паттерны:

MVP (Model-View-Presenter) — разделение ответственности:
Presenter управляет бизнес-логикой и состоянием,
View (Activity/Fragment) только отображает данные,
Repository инкапсулирует доступ к данным (сеть + локальное хранилище).
Repository pattern — единая точка доступа к данным. Репозиторий комбинирует сетевой слой (REST API) и Room.
Коррутины (Kotlin Coroutines) — асинхронная загрузка и обновление UI без блокировки главного потока.
Single Source of Truth — основной источник данных для отображения — displayedPokemons (буфер), что упрощает фильтрацию/сортировку.

Основные модули и фичи
📡 Data Layer
Room DAO — хранение списка покемонов с их параметрами.
PokeAPI Service — сетевой слой для получения данных постранично.
PokemonRepositoryImpl — объединяет сеть и Room. При успешной загрузке из сети данные автоматически кэшируются в локальную БД.

Domain Layer
PokemonPresenter:
Управляет пагинацией (lazy-loading страниц).
Хранит allPokemons и displayedPokemons.
Отвечает за применение фильтров, сортировки и поиска.
Реализует graceful-fallback:
если сеть недоступна, приложение загружает данные из Room.

UI Layer
MainActivity + RecyclerView Adapter:
Lazy-loading при скролле вниз.
Состояния загрузки (loading spinner).
Отображение ошибок (нет интернета, пустой поиск).
BottomSheetDialog для фильтров/сортировки:
Подсветка выбранных сортировок зелёным цветом.
Тоггл-механизм (повторное нажатие выключает сортировку).
Гибкая фильтрация по типам покемонов.

Интересные решения:

Буферизация через displayedPokemons
Вместо постоянных обращений к БД/сети используется буфер, который хранит текущий набор для UI. Это ускоряет отклик интерфейса.

Graceful Offline Mode
Приложение сначала показывает данные из Room (если они есть), а затем подгружает из сети.

Интерактивная подсветка фильтров/сортировок
Кнопки меняют цвет в зависимости от состояния (вкл/выкл).

Динамическая пагинация в Presenter
Логика подгрузки новых страниц вынесена в презентер - RecyclerView Adapter отвечает только за отображение. Это соответствует принципам MVP и clean architecture.

Универсальная фильтрация
Поиск, сортировка и фильтры накладываются на один общий список — реализован чистый pipeline, что упрощает расширение (например, можно легко добавить сортировку по скорости/спец-атаке).

Стек:
Kotlin, Coroutines, Android SDK
MVP архитектура, Repository pattern, Single Source of Truth
Room (SQLite ORM), Retrofit (REST API)
UI/UX best practices: BottomSheet, RecyclerView с пагинацией, интерактивные фильтры.
Offline-first подход.
Debugging & Logging: добавлены логи на этапах fetch/insert, что помогает отлаживать работу БД и сети.

